{# templates/admin/custom_view.html.twig #}

{% extends '@SonataAdmin/standard_layout.html.twig' %}


{% block sonata_admin_content %}
  <div class="box box-primary">
    <div class="box-body">
        {% set days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"] %}
      <div class="col-lg-6">
        <div class="row">
            {{ form_start(form) }}
            {% for key,day in form | slice(0 , 7) %}
              <h3>{{ days[key] }}</h3>
                {% for label,input in day %}
                    {% if label == 'day' %}
                        <div class="week_day" style="display: none"> {{ form_widget(input, { "value" : days[key] }) }} </div>
                    {% endif %}
                    {% if label == 'start' %}
                        <div style="display: inline-block">
                            <span class="day-label">Choose start time</span>
                            <div class="form-group">
                                <div class='input-group date time-picker'>
                                    {{ form_widget(input, { 'attr': {'class': 'form-control day-time'} }) }}
                                    <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-time"></span>
                                </span>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                    {% if label == 'end' %}
                        <div style="display: inline-block">
                            <span class="day-label">Choose end time</span>
                            <div class="form-group">
                                <div class='input-group date time-picker'>
                                    {{ form_widget(input, { 'attr': {'class': 'form-control day-time'} }) }}
                                    <span class="input-group-addon">
                                        <span class="glyphicon glyphicon-time"></span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                    {% if label == 'IsDayOff' %}
                        <div class="funkyradio-default">
                            {{ form_widget(input) }}
                            <label for="checkbox">Day off</label>
                        </div>
                    {% endif %}
                {% endfor %}
            {% endfor %}

            {{ form_rest(form) }}

        </div>
      </div>
      <script type="text/javascript">
          $(function () {
              $('.day-time').datetimepicker({
                  format: 'HH:mm',
              });
          });
      </script>
    </div>
  </div>
  </div>
{% endblock %}