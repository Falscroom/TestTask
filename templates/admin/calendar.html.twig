{# templates/admin/custom_view.html.twig #}

{% extends '@SonataAdmin/standard_layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('/vanillaCalendar/vanillaCalendar.css') }}">
{% endblock %}

{% block sonata_admin_content %}
    <div class="box box-primary">
        <div class="box-body">
            <div id="v-cal">
                <div class="vcal-header">
                    <button class="vcal-btn" data-calendar-toggle="previous">
                        <svg height="24" version="1.1" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path>
                        </svg>
                    </button>

                    <div class="vcal-header__label" data-calendar-label="month">
                        March 2017
                    </div>


                    <button class="vcal-btn" data-calendar-toggle="next">
                        <svg height="24" version="1.1" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"></path>
                        </svg>
                    </button>
                </div>
                <div class="vcal-week">
                </div>
                <div class="vcal-body" data-calendar-area="month"></div>
            </div>
        </div>
    </div>
    <script src="{{ asset('/vanillaCalendar/vanillaCalendar.js') }}"></script>
    <script>
        window.addEventListener('load', function () {
            vanillaCalendar.init({
                sundayFirst: true,
            });

            $('.vcal-date').click(function ($e) {
                $(this).hasClass('vcal-date--selected') ? $(this).removeClass('vcal-date--selected') : $(this).addClass('vcal-date--selected');

                let el = $('.vcal-date--selected');
                if( el.length  === 2 )
                    el.eq(0).nextUntil(el.eq(1)).addClass('vcal-date--selected');
                if(el.length > 2)
                    el.removeClass('vcal-date--selected');
            });


        });

    </script>
{% endblock %}